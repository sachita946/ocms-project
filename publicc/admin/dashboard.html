<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base href="/admin/">
  <title>Admin Dashboard | OCMS</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>/* ============================================
   GLOBAL STYLES
   ============================================ */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body { 
    font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif; 
    min-height: 100vh; 
    display: flex; 
    overflow: hidden; 
    color: #ffffff;
    /* Clean gradient for better visibility */
    background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
    background-attachment: fixed;
    line-height: 1.6;
}

a { color: inherit; text-decoration: none; }

/* ============================================
   LAYOUT
   ============================================ */
.layout { display: grid; grid-template-columns: 280px 1fr; width: 100%; height: 100%; }

/* ============================================
   SIDEBAR
   ============================================ */
.sidebar { 
    background: linear-gradient(180deg, rgba(10,10,30,0.98) 0%, rgba(15,15,40,0.98) 100%); 
    backdrop-filter: blur(10px); 
    padding: 24px 16px; 
    border-right: 1px solid rgba(255,255,255,0.1); 
    overflow-y: auto; 
    box-shadow: 0 8px 32px rgba(0,0,0,0.5); 
}
.logo { display: flex; align-items: center; gap: 12px; margin-bottom: 28px; padding: 16px; background: rgba(255,255,255,0.05); border-radius: 14px; border: 1px solid rgba(255,255,255,0.1);}
.logo-icon { width:44px;height:44px;border-radius:10px; background: linear-gradient(135deg, #ff6b6b, #ee5a6f); display:flex; align-items:center; justify-content:center; font-weight:700; color:white; font-size:20px;}
.logo-text { color:#ffffff; font-weight:600; font-size:14px;}
.nav { display:flex; flex-direction: column; gap:6px; margin-bottom:20px; }
.nav button { background: transparent; color:#b0b0b0; border:1px solid transparent; padding:11px 14px; border-radius:10px; text-align:left; cursor:pointer; font-size:14px; font-weight:500; transition:all 0.3s ease; }
.nav button:hover { background: rgba(255,255,255,0.12); color:#f0f0f0; border-color: rgba(255,255,255,0.15); }
.nav button.active { background: linear-gradient(135deg, #ff6b6b, #ee5a6f); color:white; border-color: rgba(255,255,255,0.2); box-shadow: 0 4px 12px rgba(255,107,107,0.4);}
.logout { 
  margin-top: auto; 
  background: linear-gradient(135deg, rgba(255,107,107,0.1), rgba(239,68,68,0.1)); 
  border-color: rgba(255,107,107,0.4); 
  color: #ff8787;
  font-weight: 600;
  transition: all 0.3s ease;
/* ============================================
   MAIN CONTENT
   ============================================ */
main { padding:28px; overflow-y:auto; background: transparent; border-radius: 16px; }

/* ============================================
   PANELS
   ============================================ */
.panel { display: none; }
.panel.active { display: block; }

/* ============================================
   HERO SECTION
   ============================================ */
.hero { 
    display:flex; justify-content:space-between; align-items:center; 
    margin-bottom:26px; 
    background: rgba(255,107,107,0.15); 
    backdrop-filter: blur(10px);
    padding:22px; 
    border-radius:16px; 
    border:1px solid rgba(255,107,107,0.4);
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}
.hero h1 { font-size:28px; color:#ffffff; font-weight:700; text-shadow: 0 2px 4px rgba(0,0,0,0.3);}
.hero p { color: #e2e8f0; font-size:14px; font-weight: 500;}
.badge { padding:8px 16px; border-radius:999px; background:linear-gradient(135deg, #ff6b6b, #ee5a6f); color:white; font-weight:600; font-size:12px; }

/* ============================================
   STATS GRID
   ============================================ */
.stats-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap:16px; margin-bottom:20px; }
.stat-card { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,0.3); border-radius:14px; padding:18px; box-shadow:0 4px 15px rgba(0,0,0,0.3); transition: all 0.3s ease;}
.stat-card:hover { background: rgba(255,255,255,0.15); transform: translateY(-2px); box-shadow:0 6px 20px rgba(0,0,0,0.4);}
.stat-card .label { color:#e2e8f0; font-size:13px; font-weight:600; text-transform:uppercase; }
.stat-card .value { font-size:30px; font-weight:700; color:#fbbf24; margin-top:6px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }

/* ============================================
   TABLES
   ============================================ */
.table-container { overflow-x:auto; margin-top:12px; background: rgba(255,255,255,0.05); border-radius: 12px; padding: 8px;}
table { width:100%; border-collapse:collapse; color:#ffffff; }
th { background: rgba(255,255,255,0.15); padding:14px; text-align:left; font-weight:700; color:#ffffff; border-bottom:2px solid rgba(255,107,107,0.4); font-size: 14px;}
td { padding:12px; border-bottom:1px solid rgba(255,255,255,0.1); color: #f1f5f9; font-size: 13px;}
tr:hover { background: rgba(255,255,255,0.1); }

/* ============================================
   LISTS
   ============================================ */
.list { display: grid; gap: 12px; }
.list-item { 
    background: rgba(255,255,255,0.1); 
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2); 
    border-radius: 12px; 
    padding: 16px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    transition: all 0.3s ease; 
}
.list-item:hover { background: rgba(255,255,255,0.15); border-color: rgba(255,255,255,0.3); }
.list-content { flex: 1; }
.list-title { font-weight: 600; color: #ffffff; margin-bottom: 4px; font-size: 15px; }
.list-meta { color: #cbd5e1; font-size: 13px; }
.value { font-size: 18px; font-weight: 700; color: #fbbf24; text-shadow: 0 1px 2px rgba(0,0,0,0.2); }

/* ============================================
   EMPTY STATE
   ============================================ */
.empty-state { text-align: center; padding: 40px 20px; color: #a0a0a0; }

/* ============================================
   SETTINGS
   ============================================ */
.settings-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-top: 20px; }
.action-btn { 
    padding: 12px 20px; 
    border-radius: 10px; 
    background: linear-gradient(135deg, #ff6b6b, #ee5a6f); 
    color: white; 
    border: none; 
    cursor: pointer; 
    font-weight: 600; 
    transition: all 0.3s ease; 
}
.action-btn:hover { transform: translateY(-2px); }


@media (max-width: 980px) { 
    .layout { grid-template-columns: 1fr; } 
    .sidebar { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.1); } 
    .search-bar, .filters { flex-direction: column; } 
    .search-bar input, .filters select { flex: 1; } 
    .course-card { grid-template-columns: 1fr; } 
    .course-meta { justify-content: flex-start; flex-wrap: wrap; } 
    .review-header { flex-direction: column; }
}

    /* Toast animations */
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }

    /* Utility buttons */
    .nav button, .logout {
      width: 100%;
      display: block;
      padding: 11px 14px;
      border-radius: 10px;
      border: 1px solid transparent;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="logo">
        <div class="logo-icon">EV</div>
        <div class="logo-text">ADMIN PANEL</div>
      </div>
      <nav class="nav">
        <button class="active" data-section="overview">üìä Overview</button>
        <button data-section="users">üë• Users</button>
        <button data-section="lessons">üìñ Lesson Resources</button>
        <button data-section="student-progress">üìä Student Progress</button>
        <button data-section="payments">üí≥ Payments</button>
        <button data-section="reviews">‚≠ê Reviews</button>
        <button data-section="notifications">üîî Notifications</button>
        <button data-section="activities">üìã Activities</button>
        <button data-section="messages">‚úâÔ∏è Messages</button>
        <button data-section="settings">‚öôÔ∏è Settings</button>
      </nav>
      <button class="logout" id="logoutBtn">üö™ Logout</button>
    </aside>

    <!-- MAIN CONTENT -->
    <main>
      <div class="hero">
        <div>
          <p>System Administration & Platform Control</p>
          <h1>üéõÔ∏è Admin Dashboard</h1>
        </div>
        <div class="badge" id="roleBadge">ADMIN</div>
      </div>

      <!-- STATS -->
      <div class="stats-grid">
        <div class="stat-card"><div class="label">üë• Total Users</div><div class="value" id="stat-users">0</div></div>
        <div class="stat-card"><div class="label">üë®‚Äçüéì Students</div><div class="value" id="stat-students">0</div></div>
        <div class="stat-card"><div class="label">üë®‚Äçüè´ Instructors</div><div class="value" id="stat-instructors">0</div></div>
        <div class="stat-card"><div class="label">üìö Courses</div><div class="value" id="stat-courses">0</div></div>
        <div class="stat-card"><div class="label">ÔøΩ Total Earnings</div><div class="value" id="stat-payments">NPR 0.00</div></div>
        <div class="stat-card"><div class="label">‚≠ê Reviews</div><div class="value" id="stat-reviews">0</div></div>
      </div>

      <!-- PANELS -->
      <section id="section-overview" class="panel active">
        <h2>üìä System Overview</h2>
        <ul id="overview-list" class="list"></ul>
        <div id="statisticsChart" style="height: 300px; margin-top: 20px;"></div>
      </section>
      <section id="section-users" class="panel">
        <h2>üë• User Management</h2>
        <div style="margin-bottom: 16px; padding: 12px; background: rgba(255,107,107,0.1); border: 1px solid rgba(255,107,107,0.3); border-radius: 10px;">
          <p style="margin: 0; color: #ffb3b3; font-size: 14px;">
            <strong>Note:</strong> Instructors pending approval will show "Approve" and "Reject" buttons. Only verified instructors can create courses and add Zoom links.
          </p>
        </div>
        <div class="table-container">
          <table id="users-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Account Status</th>
                <th>Verification</th>
                <th>Joined</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="users-tbody"></tbody>
          </table>
        </div>
        <div class="empty-state" id="users-empty" style="display: none;">
          <p>No users found.</p>
        </div>
      </section>
      <section id="section-payments" class="panel">
        <h2>üí∞ Recent Instructor Earnings</h2>
        <div class="table-container">
          <table id="payments-table">
            <thead>
              <tr>
                <th>Instructor</th>
                <th>Course</th>
                <th>Net Amount</th>
                <th>Method</th>
                <th>Status</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody id="payments-tbody"></tbody>
          </table>
        </div>
        <div class="empty-state" id="payments-empty" style="display: none;">
          <p>No earnings found.</p>
        </div>
        <div id="revenueChart" style="height: 300px; margin-top: 20px;"></div>
      </section>
      <section id="section-reviews" class="panel">
        <h2>‚≠ê Recent Reviews</h2>
        <div id="reviews-list" class="list"></div>
        <div class="empty-state" id="reviews-empty" style="display: none;">
          <p>No reviews found.</p>
        </div>
      </section>
      <section id="section-notifications" class="panel">
        <h2>üîî Recent Notifications</h2>
        <div id="notifications-list" class="list"></div>
        <div class="empty-state" id="notifications-empty" style="display: none;">
          <p>No notifications found.</p>
        </div>
      </section>
      <section id="section-lessons" class="panel">
        <h2>üìñ Lesson Resources</h2>
        <div class="empty-state">
          <p>Lesson resources management coming soon.</p>
        </div>
      </section>
      <section id="section-student-progress" class="panel">
        <h2>üìä Student Progress</h2>
        <div class="empty-state">
          <p>Student progress tracking coming soon.</p>
        </div>
      </section>
      <section id="section-activities" class="panel">
        <h2>üìã Recent Activities</h2>
        <div id="activities-list" class="list"></div>
        <div class="empty-state" id="activities-empty" style="display: none;">
          <p>No activities found.</p>
        </div>
      </section>
      <section id="section-messages" class="panel">
        <h2>‚úâÔ∏è Messages</h2>
        <div class="empty-state">
          <p>Messages management coming soon.</p>
        </div>
      </section>
      <section id="section-settings" class="panel">
        <h2>‚öôÔ∏è System Settings</h2>
        <div class="settings-grid">
          <button class="action-btn" onclick="toggleMaintenance()">Toggle Maintenance Mode</button>
          <button class="action-btn" onclick="managePermissions()">Manage Permissions</button>
          <button class="action-btn" onclick="platformSettings()">Platform Settings</button>
          <button class="action-btn" onclick="manageBackups()">Manage Backups</button>
        </div>
      </section>
    </main>
  </div>
  <script src="dashboard.js"></script>
</body>
</html>